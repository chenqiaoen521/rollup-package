!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],i):t.IScroll=i(t.$)}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var i={tabBar:"#tabBar",fixbar:"#fixbar",posArea:".hook-area",firstPos:"#room_id_01",offsetH:70,highlight:".highlight-title"};function o(t){this._init(t)}return console.log=null,function(o){o.prototype._init=function(o){this.opts=t.extend(!0,{},i,o||{}),this._initDom(),this._initEvent(),this.scroll=!0},o.prototype._initDom=function(){this.tabBar=t(this.opts.tabBar),this.highlight=t(this.opts.highlight),this.fixbar=t(this.opts.fixbar),this.fixbarTab=t(this.opts.fixbar).find("ul>li"),this.posArea=t(this.opts.posArea),this.win=t(window),this.highlightW=this.highlight.width(),this.posAreaArr=this.posH2Arrary()},o.prototype.posH2Arrary=function(){var i=[];return this.tabBar.offset().top,i.push(0),this.posArea.each(function(o,s){i.push(t(this).offset().top)}),i.push(document.body.scrollHeight||document.documentElement.scrollHeight),i},o.prototype.tirgger=function(){var t=this;this.fixbarTab.removeClass("active"),this.tabBar.children().removeClass("on"),this.highlight.delay(300).animate({left:this.highlightW*this.index},{duration:300,complete:function(){t.fixbarTab.eq(t.index).addClass("active"),t.tabBar.children().eq(t.index).addClass("on")}})}}(o),function(i){i.prototype._initEvent=function(){var i=this;t(window).scroll(function(){i.display(),i.posMonitor()}),this.fixbarTab.click(function(){i.pos(t(this).index())}),this.tabBar.children().click(function(){i.pos(t(this).index())})},i.prototype.display=function(){this.win.scrollTop()>=this.tabBar.offset().top?this.fixbar.show():this.fixbar.hide()},i.prototype.pos=function(i){var o=this.posAreaArr[i];0===i&&(o=t(this.opts.firstPos).offset().top),t("html,body").animate({scrollTop:o-this.opts.offsetH+"px"},{duration:500,easing:"easeInSine"})},i.prototype.posMonitor=function(){for(var t=this.win.scrollTop(),i=this.posAreaArr,o=this.opts.offsetH+1,s=0;s<i.length;s++)t>=i[s]-o&&t<=i[s+1]-o&&this.animate(s)},i.prototype.animate=function(t){if(void 0===this.index)return this.index=t,void this.tirgger();this.index!==t&&(this.index=t,this.tirgger())}}(o),o});
